---
layout: post
title: "编译配置相关"
date: 2024-03-02
tag: Harmony
---

- [官方文档：配置多目标产物](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-customized-multi-targets-and-products-V5)
- [官方文档：灵活定制编译选项](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-hvigor-compilation-options-customizing-V5)



## 目录
- [product与target](#content1)   
- [编译app和hap](#content2)   
- [FAQ](#content4)   


## <a id="content1">product与target</a>

#### **一、product**   

每一个product对应一个定制的APP包    

signingConfig 和 bundleName 是针对product进行配置的。    

一个product可以配置多个target    

以上的信息在工程级的build-profile.json5中配置    

**二、target**      

每个target对应一个HAP

Target需要包含在定义的Product中才能选择，一个target可以被包含在多个product中        

每个target可以单独指定资源目录，不同的资源目录内资源的名字要保持一致，这样不同的target就会加载不同的资源。         
在module.json文件内 -> module -> abilities 下的 icon和label 为target指定icon和label          

单独指定target的ability的page。   

## <a id="content2">编译app和hap</a>

在菜单栏的Build -> Build Hap(s)App(s) -> Build Hap(s)    
编译产物会出现在模块目录下：entry/build/Community/outputs     

在菜单栏的Build -> Build Hap(s)App(s) -> Build App(s)           
编译产物会出现在工程目录下：build/outputs     

## <a id="content4">FAQ</a>

- [官方文档：FAQ-如何在不修改build-profile.json5的情况下选择构建debug或release版本](https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-compiling-and-building-46-V5)
- [官方文档：FAQ-如何判断当前应用程序是Debug包还是Release包](https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-ability-108-V5)


**一、如何在不修改build-profile.json5的情况下选择构建debug或release版本？**    
1、通过“Build”窗口进行编译构建时，默认“Build Hap(s)”为debug编译模式，“Build App(s)”为release编译模式，同时，用户也可以自主选择编译模式为debug或release。 

2、开发者可以在DevEco Studio中选择相应的编译模式，选择之后，将按开发者所选的模式进行编译，即开发者选择的优先级大于默认的优先级


**二、如何判断当前应用程序是Debug包还是Release包**

import BuildProfile from 'BuildProfile';     
在编译构建时，Hvigor会生成BuildProfile类，可以通过该类在运行时获取编译构建参数，BuildProfile.BUILD_MODE_NAME即为编译模式。




----------
>  行者常至，为者常成！


