---
layout: post
title: "简单介绍pbx文件"
date: 2022-01-02
tag: 工程化
---






## 目录
- [几个常用的操作](#content1)   




<!-- ************************************************ -->
## <a id="content1">几个常用的操作</a>

#### **一、修改产物路径**
一个workspace下，两个project，project下的target名称都叫LCCat<br>
那么这两个构建产物放在同一个目录下是会报错的<br>
参考cocoapods的脚本文件(/XYApp/Pods/Target Support Files/Pods-XYApp/Pods-XYApp.debug.xcconfig)，将产物输出到指定的路径<br>

修改产物的存放位置，在xx.xcconfig文件中配置：
```shell
# CONFIGURATION_BUILD_DIR 为构建产物的存放位置
CONFIGURATION_BUILD_DIR = ${SRCROOT}/${PROJECT_NAME}
```

#### **二、引用其它shell的环境变量**
xcconfig文件中的内容
```shell
HMAP_PATH="aa" "bb" "cc"

TTY=/dev/ttys002

# source ~/.zshrc 加载Zsh Shell的配置文件 .zshrc 到当前Shell环境中
# 因为zsh和xcode的shell不是同一shell,想要在xcode中使用zsh的环境便令需要进行加载
# ;用于隔离指令和隔离语句
# 空格隔离的字符串可以用for来遍历
CMD= source ~/.zshrc; git status; for i in $HMAP_PATH; do echo $i;done
```

Run Script中的内容
```shell
if [[ -n $TTY ]]; then
    eval $CMD &> $TTY
    echo $? &> $TTY
fi
```

#### **三、自制命令行工具**

**1、代码如下**

```c
// argc：参数个数
// argv：传递的参数
// char** env 也是一个数组，环境变量
// 在xcode中llvm可以使用 parray n argv 来调试数组。n：表示输出几个元素
int main(int argc, const char * argv[], char** env) {
    if (argc < 2) {
      fprintf(stderr, "%s\n", "请输入参数，或者输入--help查看可用参数");
      return EX_USAGE;
    }
    while (*env){
        printf("%s\n", *env++);
    }
    // 获取配置的环境变量
    char *cat = getenv("LG_CAT_ENV");
    return 0;
}
```
<img src="/images/project/10.png">

**2、制作命令行工具**

在工程的根目录下执行
```shell
# 显示所有的配置项(环境变量)
xcodebuild -showBuildSettings

# 找到Build_DIR,这就是存放构建产物的露露
BUILD_DIR = /Users/lxy/Library/Developer/Xcode/DerivedData/LGCat-gnpihysabhvurnglqyzuklcmosdi/Build/Products

# 打开目录将产物移动的 /usr/local/bin目录下
mv LGCat /usr/local/bin/
```

**3、使用命令行工具**
```shell
22:37:59 › which LGCat
/usr/local/bin/LGCat

22:40:21 › file /usr/local/bin/LGCat
/usr/local/bin/LGCat: Mach-O 64-bit executable arm64

22:40:31 › LGCat
请输入参数，或者输入--help查看可用参数

22:40:40 › LGCat --help
CA_DEBUG_TRANSACTIONS=1
TERM_PROGRAM=Apple_Terminal
SHELL=/bin/zsh
...
```

进度：14分钟时长的视频 观看0分钟


----------
>  行者常至，为者常成！


