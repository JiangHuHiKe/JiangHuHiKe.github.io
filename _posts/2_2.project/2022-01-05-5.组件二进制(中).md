---
layout: post
title: "5.组件二进制(中)"
date: 2022-01-05
tag: 工程化
---


## 目录
- [制作二进制包步骤](#content1)   



<!-- ************************************************ -->
## <a id="content1">制作二进制包步骤</a>

#### **一、copy源码到指定目录**

```ruby
# 让当前的工作目录进入你指定的目录
Dir.chdir("/Users/lxy/Downloads/05-组件二进制化/上课代码/01-组件二进制化/AFNetworking-master")

# Pathname.pwd = /Users/lxy/Downloads/05-组件二进制化/上课代码/01-组件二进制化/AFNetworking-master
# 当前路径的上一层
# /Users/lxy/Downloads/05-组件二进制化/上课代码/01-组件二进制化
copy_path = Pathname.pwd.parent

# 拿到路径的最后一部分：AFNetworking-master
name = File.basename(Pathname.pwd)

# root = /private/tmp/cocoapods-bin
# /private/tmp/cocoapods-bin/AFNetworking-master
root_path = root.join(name)

# rm -rf /private/tmp/cocoapods-bin/AFNetworking-master
FileUtils.rm_rf(root_path)

# 如果没有创建目录：/private/tmp/cocoapods-bin
root.mkpath

# cp /Users/lxy/Downloads/05-组件二进制化/上课代码/01-组件二进制化/AFNetworking-master /private/tmp/cocoapods-bin
FileUtils.cp_r(Pathname.pwd, root)
```

#### **二、生成工程**

**1、可以使用pod自带的工具**

```shell
# 这个命令会按照spec文件内容，从remote git 将代码拉取下来
# 按照文件内指定的平台(有可能是多个平台iOS,macOS)，然后分别生成app
# 对生成的APP进行编译，编译通过则验证通过
pod lib lint 
```

**2、三方工具**

cocoapods-generate 

A CocoaPods plugin that allows you to easily generate a workspace from a podspec.

<a href="https://github.com/square/cocoapods-generate">cocoapods-generate的地址</a>



----------
>  行者常至，为者常成！


